===========Create Function=========

create or replace FUNCTION GET_EMPLOYEENAME(EMPID NUMBER) 
RETURN VARCHAR2
IS
    OUTPUT VARCHAR2(200);
    CURSOR C1 IS SELECT ENAME FROM EMP WHERE EMPNO=EMPID;
BEGIN
OPEN C1;
FETCH C1 INTO OUTPUT;
RETURN OUTPUT;

END;

=========Create View====================



CREATE OR REPLACE VIEW GET_EMPLOYEE_DEPRATMENTDATA AS
select EMPLOYEE.EMPNO EmployeeID,EMPLOYEE.ENAME EmployeeName,DEP.DEPT_CODE DepartMentCode,
DEP.DEPT_NAME DepartmentName
from EMP EMPLOYEE 
INNER JOIN DEPARTMENT_MASTERS DEP ON DEP.DEPT_CODE=EMPLOYEE.DEPTNO;

select  * from GET_EMPLOYEE_DEPRATMENTDATA

=========================Grant Permission to user

GRANT create VIEW TO SCOTT


=========Create Procedure===============

create or replace PROCEDURE GET_STUDENT_DATA(Code IN NUMBER,OUTPUT OUT SYS_REFCURSOR) 
AS 
BEGIN
OPEN OUTPUT FOR 
select  
SM.Student_Code AS STUDENT_CODE,
SM.STUDENT_NAME,
SMR.Subject1,
SMR.SUBJECT2,
SMR.SUBJECT3 
from STUDENT_MASTERS SM 
INNER JOIN STUDENT_MARKS SMR ON SM.STUDENT_CODE=SMR.STUDENT_CODE
WHERE SM.Student_Code=Code;
END;

==========

create or replace PROCEDURE GET_EMPDEPT_DATABYDEPTCODE(Dept_Code IN NUMBER,OUTPUT OUT SYS_REFCURSOR) 
AS 
BEGIN
OPEN OUTPUT FOR select  * from GET_EMPLOYEE_DEPRATMENTDATA WHERE DEPARTMENTID=Dept_Code;
END;


select EMPLOYEE.EMPNO,EMPLOYEE.ENAME,DEP.DEPT_CODE,DEP.DEPT_NAME from EMP EMPLOYEE 
INNER JOIN DEPARTMENT_MASTERS DEP ON DEP.DEPT_CODE=EMPLOYEE.DEPTNO;


=====Anonymous Block========
DECLARE
/* declare the variables*/
Number1 Number;
Number2 Number;
Number3 Number;

BEGIN

Number1:=1;
Number2:=3;
Number3:=Number1+Number2;
DBMS_OUTPUT.PUT_LINE(Number3);
END;
